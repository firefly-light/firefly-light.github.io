(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{R3AL:function(e,t,a){"use strict";var r=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.queryRule=o,t.removeRule=c,t.addRule=s,t.updateRule=m;var l=r(a("mK77")),n=r(a("Ico4")),u=r(a("UWy3")),d=r(a("sy1d"));function o(e){return i.apply(this,arguments)}function i(){return i=(0,u.default)(n.default.mark(function e(t){return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("queryRule"),console.log(t),e.abrupt("return",(0,d.default)("/api/deceased/list",{params:t}));case 3:case"end":return e.stop()}},e)})),i.apply(this,arguments)}function c(e){return f.apply(this,arguments)}function f(){return f=(0,u.default)(n.default.mark(function e(t){return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.default)("/api/rule",{method:"POST",data:(0,l.default)({},t,{method:"delete"})}));case 1:case"end":return e.stop()}},e)})),f.apply(this,arguments)}function s(e){return p.apply(this,arguments)}function p(){return p=(0,u.default)(n.default.mark(function e(t){return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("addRule"),console.log(t),e.abrupt("return",(0,d.default)("/api/deceased/add",{method:"POST",data:(0,l.default)({},t,{method:"post"})}));case 3:case"end":return e.stop()}},e)})),p.apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return h=(0,u.default)(n.default.mark(function e(t){return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("updateRule"),console.log(t),e.abrupt("return",(0,d.default)("/api/deceased/update",{method:"POST",data:(0,l.default)({},t,{method:"update"})}));case 3:case"end":return e.stop()}},e)})),h.apply(this,arguments)}},YdvM:function(e,t,a){"use strict";var r=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("6URM");var l=r(a("CqLB"));a("kUSG");var n=r(a("2hxE"));a("tZRA");var u=r(a("Nh7H"));a("1x/P");var d=r(a("Fad9")),o=a("AdBF");a("Ymw7");var i=r(a("2w0b")),c=d.default.Option,f=o.Form.Item,s=function(e){var t=e.modalVisible,a=e.form,r=e.onSubmit,o=e.onCancel,s=function(e){a.setFieldsValue({gender:{value:e}})},p=function(){a.validateFields(function(e,t){e||(a.resetFields(),r(t))})};return i.default.createElement(u.default,{destroyOnClose:!0,title:"\u65b0\u5efa\u89c4\u5219",visible:t,onOk:p,onCancel:function(){return o()}},i.default.createElement(f,{labelCol:{span:9},wrapperCol:{span:15},label:"\u59d3\u540d"},a.getFieldDecorator("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u81f3\u5c112\u4e2a\u5b57\u7b26\u7684\u59d3\u540d\uff01",min:2}]})(i.default.createElement(n.default,{placeholder:"\u8bf7\u8f93\u5165"}))),i.default.createElement(f,{labelCol:{span:9},wrapperCol:{span:15},label:"\u6027\u522b"},a.getFieldDecorator("gender",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6027\u522b\uff01",min:1}]})(i.default.createElement(d.default,{placeholder:"\u8bf7\u9009\u62e9\u6027\u522b",onChange:s,style:{width:"100%"}},i.default.createElement(c,{value:"male"},"\u7537"),i.default.createElement(c,{value:"female"},"\u5973"),i.default.createElement(c,{value:"other"},"\u4e0d\u8be6")))),i.default.createElement(f,{labelCol:{span:9},wrapperCol:{span:15},label:"\u804c\u4e1a"},a.getFieldDecorator("profession",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u804c\u4e1a\uff01",min:2}]})(i.default.createElement(n.default,{placeholder:"\u8bf7\u8f93\u5165"}))),i.default.createElement(f,{labelCol:{span:9},wrapperCol:{span:15},label:"\u6237\u7c4d"},a.getFieldDecorator("birthplace",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u6237\u7c4d\uff01",min:2}]})(i.default.createElement(n.default,{placeholder:"\u8bf7\u8f93\u5165"}))),i.default.createElement(f,{labelCol:{span:9},wrapperCol:{span:15},label:"\u5de5\u4f5c\u6240\u5728\u57ce\u5e02"},a.getFieldDecorator("working_city",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5de5\u4f5c\u6240\u5728\u57ce\u5e02\uff01",min:2}]})(i.default.createElement(n.default,{placeholder:"\u8bf7\u8f93\u5165"}))),i.default.createElement(f,{labelCol:{span:9},wrapperCol:{span:15},label:"\u6b7b\u4ea1\u76f4\u63a5\u6216\u95f4\u63a5\u539f\u56e0"},a.getFieldDecorator("cause_of_death",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6b7b\u4ea1\u76f4\u63a5\u6216\u95f4\u63a5\u539f\u56e0\uff01",min:2}]})(i.default.createElement(n.default,{placeholder:"\u8bf7\u8f93\u5165"}))),i.default.createElement(f,{labelCol:{span:9},wrapperCol:{span:15},label:"\u6b7b\u4ea1\u65f6\u95f4"},a.getFieldDecorator("death_time",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6b7b\u4ea1\u65f6\u95f4\uff01"}]})(i.default.createElement(l.default,{style:{width:"100%"},format:"YYYY-MM-DD HH:mm:ss",showTime:!0}))))},p=o.Form.create()(s);t.default=p},ptNW:function(e,t,a){"use strict";var r=a("fbTi"),l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("tZRA");var n=l(a("Nh7H"));a("X1LF");var u=l(a("QfOC"));a("6URM");var d=l(a("CqLB")),o=l(a("mK77")),i=l(a("43Yg")),c=l(a("/tCh")),f=l(a("scpF")),s=l(a("O/V9")),p=l(a("8aBX"));a("OHFl");var m=l(a("98vK"));a("1x/P");var h=l(a("Fad9"));a("kUSG");var v=l(a("2hxE"));a("5bd7");var y=l(a("Rofq")),b=a("AdBF");a("Ymw7");var g=r(a("2w0b")),w=l(a("a/LZ")),k="YYYY-MM-DD hh:mm:ss",E=b.Form.Item,_=y.default.Step,C=(v.default.TextArea,h.default.Option),x=(m.default.Group,function(e){function t(e){var a;return(0,i.default)(this,t),a=(0,f.default)(this,(0,s.default)(t).call(this,e)),a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a.onGenderChange=function(e){var t=a.props.form;t.setFieldsValue({gender:{value:e}})},a.handleNext=function(e){var t=a.props,r=t.form,l=t.onSubmit,n=a.state.formVals;r.validateFields(function(t,r){if(!t){var u=(0,o.default)({},n,r);a.setState({formVals:u},function(){e<2?a.forward():l(u)})}})},a.backward=function(){var e=a.state.currentStep;a.setState({currentStep:e-1})},a.forward=function(){var e=a.state.currentStep;a.setState({currentStep:e+1})},a.renderContent=function(e,t){var r=a.props.form;return 1===e?[g.default.createElement(E,Object.assign({key:"profession"},a.formLayout,{label:"\u804c\u4e1a"}),r.getFieldDecorator("profession",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u804c\u4e1a\uff01"}],initialValue:t.profession})(g.default.createElement(v.default,{placeholder:"\u8bf7\u8f93\u5165"}))),g.default.createElement(E,Object.assign({key:"working_city"},a.formLayout,{label:"\u5de5\u4f5c\u6240\u5728\u57ce\u5e02"}),r.getFieldDecorator("working_city",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5de5\u4f5c\u6240\u5728\u57ce\u5e02\uff01",min:2}],initialValue:t.working_city})(g.default.createElement(v.default,{placeholder:"\u8bf7\u8f93\u5165\u5de5\u4f5c\u6240\u5728\u57ce\u5e02"})))]:2===e?[g.default.createElement(E,Object.assign({key:"cause_of_death"},a.formLayout,{label:"\u6b7b\u4ea1\u76f4\u63a5\u6216\u95f4\u63a5\u539f\u56e0"}),r.getFieldDecorator("cause_of_death",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6b7b\u4ea1\u76f4\u63a5\u6216\u95f4\u63a5\u539f\u56e0\uff01",min:2}],initialValue:t.cause_of_death})(g.default.createElement(v.default,{placeholder:"\u8bf7\u8f93\u5165\u6b7b\u4ea1\u76f4\u63a5\u6216\u95f4\u63a5\u539f\u56e0"}))),g.default.createElement(E,Object.assign({key:"death_time"},a.formLayout,{label:"\u6b7b\u4ea1\u65f6\u95f4"}),r.getFieldDecorator("death_time",{rules:[{required:!0,message:"\u9009\u62e9\u6b7b\u4ea1\u65f6\u95f4\uff01"}],initialValue:(0,w.default)(t.death_time)})(g.default.createElement(d.default,{style:{width:"100%"},showTime:!0,defaultValue:(0,w.default)(t.death_time),format:k,placeholder:"\u9009\u62e9\u6b7b\u4ea1\u65f6\u95f4"})))]:[g.default.createElement(E,Object.assign({key:"id"},a.formLayout,{label:"id",style:{display:"none"}}),r.getFieldDecorator("id",{rules:[{required:!0,message:" "}],initialValue:t.id})(g.default.createElement(v.default,{placeholder:"\u8bf7\u8f93\u5165"}))),g.default.createElement(E,Object.assign({key:"name"},a.formLayout,{label:"\u59d3\u540d"}),r.getFieldDecorator("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u59d3\u540d\uff01"}],initialValue:t.name})(g.default.createElement(v.default,{placeholder:"\u8bf7\u8f93\u5165"}))),g.default.createElement(E,Object.assign({key:"gender"},a.formLayout,{label:"\u6027\u522b"}),r.getFieldDecorator("gender",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6027\u522b \u7537 | \u5973\uff01",min:1}],initialValue:t.gender})(g.default.createElement(h.default,{placeholder:"\u8bf7\u9009\u62e9\u6027\u522b",onChange:a.onGenderChange,allowClear:!0,style:{width:"100%"}},g.default.createElement(C,{value:"male"},"\u7537"),g.default.createElement(C,{value:"female"},"\u5973"),g.default.createElement(C,{value:"other"},"\u4e0d\u8be6"))))]},a.renderFooter=function(e){var t=a.props,r=t.onCancel,l=t.values;return 1===e?[g.default.createElement(u.default,{key:"back",style:{float:"left"},onClick:a.backward},"\u4e0a\u4e00\u6b65"),g.default.createElement(u.default,{key:"cancel",onClick:function(){return r(!1,l)}},"\u53d6\u6d88"),g.default.createElement(u.default,{key:"forward",type:"primary",onClick:function(){return a.handleNext(e)}},"\u4e0b\u4e00\u6b65")]:2===e?[g.default.createElement(u.default,{key:"back",style:{float:"left"},onClick:a.backward},"\u4e0a\u4e00\u6b65"),g.default.createElement(u.default,{key:"cancel",onClick:function(){return r(!1,l)}},"\u53d6\u6d88"),g.default.createElement(u.default,{key:"submit",type:"primary",onClick:function(){return a.handleNext(e)}},"\u5b8c\u6210")]:[g.default.createElement(u.default,{key:"cancel",onClick:function(){return r(!1,l)}},"\u53d6\u6d88"),g.default.createElement(u.default,{key:"forward",type:"primary",onClick:function(){return a.handleNext(e)}},"\u4e0b\u4e00\u6b65")]},a.state={formVals:{id:e.values.id,name:e.values.name,gender:e.values.gender,birthplace:e.values.birthplace,working_city:e.values.working_city,profession:e.values.profession,cause_of_death:e.values.cause_of_death,death_time:e.values.death_time},currentStep:0},a}return(0,p.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.updateModalVisible,a=e.onCancel,r=e.values,l=this.state,u=l.currentStep,d=l.formVals;return g.default.createElement(n.default,{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"\u89c4\u5219\u914d\u7f6e",visible:t,footer:this.renderFooter(u),onCancel:function(){return a(!1,r)},afterClose:function(){return a()}},g.default.createElement(y.default,{style:{marginBottom:28},size:"small",current:u},g.default.createElement(_,{title:"\u57fa\u672c\u4fe1\u606f"}),g.default.createElement(_,{title:"\u5de5\u4f5c\u4fe1\u606f"}),g.default.createElement(_,{title:"\u6b7b\u4ea1\u4fe1\u606f"})),this.renderContent(u,d))}}]),t}(g.Component));x.defaultProps={handleUpdate:function(){},handleUpdateModalVisible:function(){},values:{}};var F=b.Form.create()(x);t.default=F},yeu2:function(e,t,a){"use strict";var r=a("fbTi"),l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("c+Nv");var n=l(a("iU1m"));a("YeaM");var u=l(a("nMnT"));a("X1LF");var d=l(a("QfOC")),o=l(a("cO38")),i=l(a("Ico4"));a("kx0C");var c=l(a("fGAK")),f=l(a("UWy3")),s=a("vGWC"),p=a("AdBF");a("Ymw7");var m=r(a("2w0b")),h=a("bw4D"),v=l(a("TWqP")),y=l(a("YdvM")),b=l(a("ptNW")),g=a("R3AL"),w=function(){var e=(0,f.default)(i.default.mark(function e(t){var a;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=c.default.loading("\u6b63\u5728\u6dfb\u52a0"),e.prev=1,e.next=4,(0,g.addRule)({name:t.name,gender:t.gender,birthplace:t.birthplace,working_city:t.working_city,profession:t.profession,cause_of_death:t.cause_of_death,death_time:t.death_time});case 4:return a(),c.default.success("\u6dfb\u52a0\u6210\u529f"),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e["catch"](1),a(),c.default.error("\u6dfb\u52a0\u5931\u8d25\u8bf7\u91cd\u8bd5\uff01"),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,f.default)(i.default.mark(function e(t){var a;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=c.default.loading("\u6b63\u5728\u914d\u7f6e"),e.prev=1,e.next=4,(0,g.updateRule)({id:t.id,name:t.name,gender:t.gender,birthplace:t.birthplace,working_city:t.working_city,profession:t.profession,cause_of_death:t.cause_of_death,death_time:t.death_time});case 4:return a(),c.default.success("\u914d\u7f6e\u6210\u529f"),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e["catch"](1),a(),c.default.error("\u914d\u7f6e\u5931\u8d25\u8bf7\u91cd\u8bd5\uff01"),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,f.default)(i.default.mark(function e(t){var a;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=c.default.loading("\u6b63\u5728\u5220\u9664"),t){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,g.removeRule)({key:t.map(function(e){return e.key})});case 6:return a(),c.default.success("\u5220\u9664\u6210\u529f\uff0c\u5373\u5c06\u5237\u65b0"),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e["catch"](3),a(),c.default.error("\u5220\u9664\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5"),e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,null,[[3,11]])}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,m.useState)(!1),t=(0,o.default)(e,2),a=t[0],r=t[1],l=(0,m.useState)(!1),c=(0,o.default)(l,2),p=c[0],_=c[1],C=(0,m.useState)({}),x=(0,o.default)(C,2),F=x[0],O=x[1],S=(0,m.useRef)(),R=[{title:"id",dataIndex:"id",key:"id",hideInSearch:!0,hideInTable:!1},{title:"\u59d3\u540d",dataIndex:"name"},{title:"\u6027\u522b",dataIndex:"gender",valueEnum:{male:"\u7537",female:"\u5973"},filters:[{text:"\u7537",value:"male"},{text:"\u5973",value:"female"}]},{title:"\u5de5\u4f5c\u57ce\u5e02",dataIndex:"working_city"},{title:"\u804c\u4e1a",dataIndex:"profession"},{title:"\u6b7b\u4ea1\u76f4\u63a5\u6216\u95f4\u63a5\u539f\u56e0",dataIndex:"cause_of_death"},{title:"\u6b7b\u4ea1\u65f6\u95f4",dataIndex:"death_time",sorter:!0,valueType:"dateTime"},{title:"\u64cd\u4f5c",dataIndex:"option",valueType:"option",render:function(e,t){return m.default.createElement(m.default.Fragment,null,m.default.createElement("a",{onClick:function(){_(!0),O(t)}},"\u4fee\u6539"))}}];return m.default.createElement(h.PageHeaderWrapper,{title:""},m.default.createElement(v.default,{headerTitle:"\u67e5\u8be2\u8868\u683c",actionRef:S,toolBarRender:function(e,t){var a=t.selectedRows;return[m.default.createElement(d.default,{icon:m.default.createElement(s.PlusOutlined,null),type:"primary",onClick:function(){return r(!0)}},"\u65b0\u5efa"),a&&a.length>0&&m.default.createElement(u.default,{overlay:m.default.createElement(n.default,{onClick:function(){var t=(0,f.default)(i.default.mark(function t(r){return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("remove"!==r.key){t.next=4;break}return t.next=3,E(a);case 3:e.reload();case 4:case"end":return t.stop()}},t)}));function r(e){return t.apply(this,arguments)}return r}(),selectedKeys:[]},m.default.createElement(n.default.Item,{key:"remove"},"\u6279\u91cf\u5220\u9664"))},m.default.createElement(d.default,null,"\u6279\u91cf\u64cd\u4f5c ",m.default.createElement(s.DownOutlined,null)))]},tableAlertRender:function(e,t){return m.default.createElement("div",null,"\u5df2\u9009\u62e9 ",m.default.createElement("a",{style:{fontWeight:600}},e.length)," \u9879\xa0\xa0")},request:function(e){return(0,g.queryRule)(e)},columns:R,rowSelection:{}}),m.default.createElement(y.default,{onSubmit:function(){var e=(0,f.default)(i.default.mark(function e(t){var a;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:a=e.sent,a&&(r(!1),S.current&&S.current.reload());case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),onCancel:function(){return r(!1)},modalVisible:a}),F&&Object.keys(F).length?m.default.createElement(b.default,{onSubmit:function(){var e=(0,f.default)(i.default.mark(function e(t){var a;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:a=e.sent,a&&(r(!1),O({}),S.current&&S.current.reload());case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),onCancel:function(){_(!1),O({})},updateModalVisible:p,values:F}):null)},C=p.Form.create()(_);t.default=C}}]);